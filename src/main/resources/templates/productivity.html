<!DOCTYPE html>
<html
  lang="vi"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout}"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NƒÉng Su·∫•t Nh√¢n S·ª± - HR System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      main {
        font-family: "Inter", sans-serif;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        min-height: 100vh;
      }

      .dashboard-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .stat-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        border-left: 4px solid transparent;
      }

      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      }

      .stat-card.primary {
        border-left-color: #3b82f6;
      }
      .stat-card.success {
        border-left-color: #10b981;
      }
      .stat-card.warning {
        border-left-color: #f59e0b;
      }
      .stat-card.danger {
        border-left-color: #ef4444;
      }
      .stat-card.purple {
        border-left-color: #8b5cf6;
      }

      .chart-container {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }

      .employee-card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
        transition: all 0.3s ease;
      }

      .employee-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .progress-bar {
        transition: width 0.5s ease-in-out;
      }

      .trend-indicator {
        display: inline-flex;
        align-items: center;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 500;
      }

      .trend-up {
        background: #dcfce7;
        color: #16a34a;
      }

      .trend-down {
        background: #fee2e2;
        color: #dc2626;
      }

      .performance-badge {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
      }

      .performance-excellent {
        background: #dcfce7;
        color: #16a34a;
      }

      .performance-good {
        background: #dbeafe;
        color: #2563eb;
      }

      .performance-average {
        background: #fef3c7;
        color: #d97706;
      }

      .performance-poor {
        background: #fee2e2;
        color: #dc2626;
      }

      .gradient-text {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .kpi-meter {
        position: relative;
        width: 100px;
        height: 100px;
      }

      .kpi-value {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-weight: 700;
        font-size: 18px;
      }

      .department-tag {
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
      }

      .tag-development {
        background: #dbeafe;
        color: #2563eb;
      }
      .tag-sales {
        background: #dcfce7;
        color: #16a34a;
      }
      .tag-marketing {
        background: #fdf2f8;
        color: #db2777;
      }
      .tag-hr {
        background: #fef3c7;
        color: #d97706;
      }
      .tag-finance {
        background: #e0e7ff;
        color: #4f46e5;
      }
    </style>
  </head>
  <main layout:fragment="content" class="py-8">
    <div class="dashboard-container">
      <!-- Header Section -->
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900">
          <span class="gradient-text">B·∫£ng ƒêi·ªÅu Khi·ªÉn NƒÉng Su·∫•t</span>
        </h1>
        <p class="text-gray-600 mt-2">
          Theo d√µi v√† ph√¢n t√≠ch hi·ªáu su·∫•t l√†m vi·ªác c·ªßa nh√¢n vi√™n
        </p>
      </div>

      <!-- Statistics Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8">
        <!-- Overall Productivity -->
        <div class="stat-card primary">
          <div class="flex items-center justify-between mb-4">
            <div
              class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"
            >
              <span class="text-2xl text-blue-600">üìä</span>
            </div>
            <span class="trend-indicator trend-up">+8% ‚Üó</span>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-2">87.5%</h3>
          <p class="text-gray-600">NƒÉng su·∫•t t·ªïng th·ªÉ</p>
          <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
            <div
              class="progress-bar bg-blue-600 h-2 rounded-full"
              style="width: 87.5%"
            ></div>
          </div>
        </div>

        <!-- Completed Tasks -->
        <div class="stat-card success">
          <div class="flex items-center justify-between mb-4">
            <div
              class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"
            >
              <span class="text-2xl text-green-600">‚úÖ</span>
            </div>
            <span class="trend-indicator trend-up">+12% ‚Üó</span>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-2">1,247</h3>
          <p class="text-gray-600">C√¥ng vi·ªác ho√†n th√†nh</p>
          <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
            <div
              class="progress-bar bg-green-600 h-2 rounded-full"
              style="width: 85%"
            ></div>
          </div>
        </div>

        <!-- Pending Tasks -->
        <div class="stat-card warning">
          <div class="flex items-center justify-between mb-4">
            <div
              class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center"
            >
              <span class="text-2xl text-orange-600">‚è≥</span>
            </div>
            <span class="trend-indicator trend-down">-5% ‚Üò</span>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-2">156</h3>
          <p class="text-gray-600">C√¥ng vi·ªác ƒëang ch·ªù</p>
          <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
            <div
              class="progress-bar bg-orange-600 h-2 rounded-full"
              style="width: 25%"
            ></div>
          </div>
        </div>

        <!-- Overtime Hours -->
        <div class="stat-card danger">
          <div class="flex items-center justify-between mb-4">
            <div
              class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"
            >
              <span class="text-2xl text-red-600">‚è∞</span>
            </div>
            <span class="trend-indicator trend-up">+15% ‚Üó</span>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-2">245h</h3>
          <p class="text-gray-600">Gi·ªù l√†m th√™m</p>
          <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
            <div
              class="progress-bar bg-red-600 h-2 rounded-full"
              style="width: 60%"
            ></div>
          </div>
        </div>

        <!-- Employee Satisfaction -->
        <div class="stat-card purple">
          <div class="flex items-center justify-between mb-4">
            <div
              class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"
            >
              <span class="text-2xl text-purple-600">üòä</span>
            </div>
            <span class="trend-indicator trend-up">+3% ‚Üó</span>
          </div>
          <h3 class="text-2xl font-bold text-gray-900 mb-2">4.7/5</h3>
          <p class="text-gray-600">M·ª©c ƒë·ªô h√†i l√≤ng</p>
          <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
            <div
              class="progress-bar bg-purple-600 h-2 rounded-full"
              style="width: 94%"
            ></div>
          </div>
        </div>
      </div>

      <!-- Main Content Grid -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
        <!-- Productivity Trend -->
        <div class="chart-container">
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl font-bold text-gray-900">Xu H∆∞·ªõng NƒÉng Su·∫•t</h2>
            <select class="border border-gray-300 rounded-lg px-3 py-1 text-sm">
              <option>6 th√°ng qua</option>
              <option>12 th√°ng qua</option>
              <option>NƒÉm 2024</option>
            </select>
          </div>
          <canvas id="productivityChart" height="250"></canvas>
        </div>

        <!-- Department Comparison -->
        <div class="chart-container">
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl font-bold text-gray-900">
              So S√°nh Theo Ph√≤ng Ban
            </h2>
            <select class="border border-gray-300 rounded-lg px-3 py-1 text-sm">
              <option>Qu√Ω 2/2024</option>
              <option>Qu√Ω 1/2024</option>
              <option>NƒÉm 2023</option>
            </select>
          </div>
          <canvas id="departmentChart" height="250"></canvas>
        </div>
      </div>

      <!-- Top Performers -->
      <div class="mb-8">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold text-gray-900">
            Nh√¢n Vi√™n Hi·ªáu Su·∫•t Cao
          </h2>
          <button class="text-blue-600 hover:underline">Xem t·∫•t c·∫£</button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <!-- Employee 1 -->
          <div class="employee-card">
            <div class="flex items-center mb-4">
              <img
                src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                alt="Nguy·ªÖn VƒÉn A"
                class="w-16 h-16 rounded-full object-cover mr-4"
              />
              <div>
                <h3 class="font-semibold text-gray-900">Nguy·ªÖn VƒÉn A</h3>
                <span class="department-tag tag-development">Ph√°t tri·ªÉn</span>
              </div>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">KPI:</span>
              <span class="font-bold text-green-600">96%</span>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">C√¥ng vi·ªác:</span>
              <span class="font-bold">45/48</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-gray-600">ƒê√°nh gi√°:</span>
              <span class="performance-badge performance-excellent"
                >Xu·∫•t s·∫Øc</span
              >
            </div>
          </div>

          <!-- Employee 2 -->
          <div class="employee-card">
            <div class="flex items-center mb-4">
              <img
                src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                alt="Tr·∫ßn Th·ªã B"
                class="w-16 h-16 rounded-full object-cover mr-4"
              />
              <div>
                <h3 class="font-semibold text-gray-900">Tr·∫ßn Th·ªã B</h3>
                <span class="department-tag tag-sales">Kinh doanh</span>
              </div>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">KPI:</span>
              <span class="font-bold text-green-600">92%</span>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">C√¥ng vi·ªác:</span>
              <span class="font-bold">38/40</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-gray-600">ƒê√°nh gi√°:</span>
              <span class="performance-badge performance-excellent"
                >Xu·∫•t s·∫Øc</span
              >
            </div>
          </div>

          <!-- Employee 3 -->
          <div class="employee-card">
            <div class="flex items-center mb-4">
              <img
                src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                alt="L√™ VƒÉn C"
                class="w-16 h-16 rounded-full object-cover mr-4"
              />
              <div>
                <h3 class="font-semibold text-gray-900">L√™ VƒÉn C</h3>
                <span class="department-tag tag-marketing">Marketing</span>
              </div>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">KPI:</span>
              <span class="font-bold text-blue-600">88%</span>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">C√¥ng vi·ªác:</span>
              <span class="font-bold">42/48</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-gray-600">ƒê√°nh gi√°:</span>
              <span class="performance-badge performance-good">T·ªët</span>
            </div>
          </div>

          <!-- Employee 4 -->
          <div class="employee-card">
            <div class="flex items-center mb-4">
              <img
                src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                alt="Ph·∫°m Th·ªã D"
                class="w-16 h-16 rounded-full object-cover mr-4"
              />
              <div>
                <h3 class="font-semibold text-gray-900">Ph·∫°m Th·ªã D</h3>
                <span class="department-tag tag-hr">Nh√¢n s·ª±</span>
              </div>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">KPI:</span>
              <span class="font-bold text-yellow-600">82%</span>
            </div>
            <div class="flex justify-between items-center mb-3">
              <span class="text-gray-600">C√¥ng vi·ªác:</span>
              <span class="font-bold">36/42</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-gray-600">ƒê√°nh gi√°:</span>
              <span class="performance-badge performance-average">Kh√°</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom Grid -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Task Completion Rate -->
        <div class="chart-container">
          <h3 class="text-lg font-semibold text-gray-900 mb-4">
            T·ª∑ L·ªá Ho√†n Th√†nh C√¥ng Vi·ªác
          </h3>
          <canvas id="completionChart" height="200"></canvas>
        </div>

        <!-- Overtime Analysis -->
        <div class="chart-container">
          <h3 class="text-lg font-semibold text-gray-900 mb-4">
            Ph√¢n T√≠ch Gi·ªù L√†m Th√™m
          </h3>
          <canvas id="overtimeChart" height="200"></canvas>
        </div>

        <!-- Performance Distribution -->
        <div class="chart-container">
          <h3 class="text-lg font-semibold text-gray-900 mb-4">
            Ph√¢n Ph·ªëi Hi·ªáu Su·∫•t
          </h3>
          <canvas id="performanceChart" height="200"></canvas>
        </div>
      </div>

      <!-- Recent Activities -->
      <div class="chart-container mt-8">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">
          Ho·∫°t ƒê·ªông G·∫ßn ƒê√¢y
        </h3>
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr class="border-b">
                <th class="text-left py-3">Nh√¢n vi√™n</th>
                <th class="text-left py-3">Ho·∫°t ƒë·ªông</th>
                <th class="text-left py-3">Th·ªùi gian</th>
                <th class="text-left py-3">Tr·∫°ng th√°i</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b hover:bg-gray-50">
                <td class="py-3">Nguy·ªÖn VƒÉn A</td>
                <td class="py-3">Ho√†n th√†nh d·ª± √°n CRM</td>
                <td class="py-3">12/07 14:30</td>
                <td class="py-3">
                  <span class="performance-badge performance-excellent"
                    >Th√†nh c√¥ng</span
                  >
                </td>
              </tr>
              <tr class="border-b hover:bg-gray-50">
                <td class="py-3">Tr·∫ßn Th·ªã B</td>
                <td class="py-3">ƒê·∫°t ch·ªâ ti√™u doanh s·ªë</td>
                <td class="py-3">12/07 12:15</td>
                <td class="py-3">
                  <span class="performance-badge performance-excellent"
                    >V∆∞·ª£t m·ª•c ti√™u</span
                  >
                </td>
              </tr>
              <tr class="border-b hover:bg-gray-50">
                <td class="py-3">L√™ VƒÉn C</td>
                <td class="py-3">Training k·ªπ nƒÉng m·ªõi</td>
                <td class="py-3">11/07 16:45</td>
                <td class="py-3">
                  <span class="performance-badge performance-good"
                    >Ho√†n th√†nh</span
                  >
                </td>
              </tr>
              <tr class="border-b hover:bg-gray-50">
                <td class="py-3">Ph·∫°m Th·ªã D</td>
                <td class="py-3">ƒê√°nh gi√° nh√¢n s·ª± qu√Ω</td>
                <td class="py-3">11/07 10:20</td>
                <td class="py-3">
                  <span class="performance-badge performance-average"
                    >ƒêang ti·∫øn h√†nh</span
                  >
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script>
      // Initialize charts
      document.addEventListener("DOMContentLoaded", function () {
        // Productivity Trend Chart
        const productivityCtx = document
          .getElementById("productivityChart")
          .getContext("2d");
        new Chart(productivityCtx, {
          type: "line",
          data: {
            labels: [
              "Th√°ng 1",
              "Th√°ng 2",
              "Th√°ng 3",
              "Th√°ng 4",
              "Th√°ng 5",
              "Th√°ng 6",
            ],
            datasets: [
              {
                label: "NƒÉng su·∫•t trung b√¨nh",
                data: [82, 85, 88, 84, 87, 89],
                borderColor: "#3b82f6",
                backgroundColor: "rgba(59, 130, 246, 0.1)",
                borderWidth: 3,
                fill: true,
                tension: 0.4,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                display: false,
              },
            },
            scales: {
              y: {
                beginAtZero: false,
                min: 75,
                max: 100,
                grid: {
                  drawBorder: false,
                },
              },
              x: {
                grid: {
                  display: false,
                },
              },
            },
          },
        });

        // Department Comparison Chart
        const departmentCtx = document
          .getElementById("departmentChart")
          .getContext("2d");
        new Chart(departmentCtx, {
          type: "bar",
          data: {
            labels: [
              "Ph√°t tri·ªÉn",
              "Kinh doanh",
              "Marketing",
              "Nh√¢n s·ª±",
              "T√†i ch√≠nh",
            ],
            datasets: [
              {
                label: "ƒêi·ªÉm nƒÉng su·∫•t",
                data: [89, 92, 85, 88, 83],
                backgroundColor: [
                  "#3b82f6",
                  "#10b981",
                  "#ec4899",
                  "#f59e0b",
                  "#8b5cf6",
                ],
                borderRadius: 6,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                display: false,
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                max: 100,
                grid: {
                  drawBorder: false,
                },
              },
              x: {
                grid: {
                  display: false,
                },
              },
            },
          },
        });

        // Completion Rate Chart
        const completionCtx = document
          .getElementById("completionChart")
          .getContext("2d");
        new Chart(completionCtx, {
          type: "doughnut",
          data: {
            labels: ["Ho√†n th√†nh", "ƒêang th·ª±c hi·ªán", "Ch∆∞a b·∫Øt ƒë·∫ßu"],
            datasets: [
              {
                data: [78, 15, 7],
                backgroundColor: ["#10b981", "#f59e0b", "#ef4444"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            cutout: "70%",
            plugins: {
              legend: {
                position: "bottom",
              },
            },
          },
        });

        // Overtime Analysis Chart
        const overtimeCtx = document
          .getElementById("overtimeChart")
          .getContext("2d");
        new Chart(overtimeCtx, {
          type: "pie",
          data: {
            labels: ["D∆∞·ªõi 10h", "10-20h", "20-30h", "Tr√™n 30h"],
            datasets: [
              {
                data: [45, 30, 15, 10],
                backgroundColor: ["#10b981", "#3b82f6", "#f59e0b", "#ef4444"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: "bottom",
              },
            },
          },
        });

        // Performance Distribution Chart
        const performanceCtx = document
          .getElementById("performanceChart")
          .getContext("2d");
        new Chart(performanceCtx, {
          type: "polarArea",
          data: {
            labels: ["Xu·∫•t s·∫Øc", "T·ªët", "Kh√°", "Trung b√¨nh"],
            datasets: [
              {
                data: [25, 40, 25, 10],
                backgroundColor: ["#16a34a", "#2563eb", "#d97706", "#6b7280"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: "bottom",
              },
            },
          },
        });

        // Simulate progress bars animation
        setTimeout(() => {
          document.querySelectorAll(".progress-bar").forEach((bar) => {
            bar.style.transition = "width 2s ease-in-out";
          });
        }, 500);
      });
    </script>
  </main>
</html>
